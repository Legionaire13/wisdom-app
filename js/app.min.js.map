{"version":3,"sources":["appData.js","viewer.js","app.js"],"names":["window","appData","answers","phrase","keywords","fallback","input","document","getElementById","output","clearPlaceholder","setAttribute","setDefaultPlaceholder","value","addEventListener","viewer","inputField","getInputValue","renderResult","res","innerText","userInput","toLowerCase","getAnswer","arr","Math","floor","random","length","pullOfAnswers","forEach","obj","currentObj","rate","keyword","includes","push","name","rateArr","map","it","maxRate","max","filter","findMaxRatedAnswers"],"mappings":"AAAA,aA2SAA,OAAAC,QAAA,CACAC,QA1SA,CAAA,CACAC,OAAA,0BACAC,SAAA,CAAA,UAAA,UAAA,QAAA,aAAA,UAEA,CACAD,OAAA,+DACAC,SAAA,CAAA,UAAA,QAAA,SAEA,CACAD,OAAA,iCACAC,SAAA,CAAA,MAAA,OAAA,SAAA,QAAA,UAAA,SAEA,CACAD,OAAA,uCACAC,SAAA,CAAA,aAAA,QAAA,UAAA,UAAA,YAAA,SAEA,CACAD,OAAA,qCACAC,SAAA,CAAA,aAAA,QAAA,QAAA,eAAA,QAAA,SAAA,UAEA,CACAD,OAAA,oCACAC,SAAA,CAAA,QAAA,MAAA,MAAA,QAAA,QAAA,YAEA,CACAD,OAAA,sCACAC,SAAA,CAAA,MAAA,QAAA,OAAA,WAEA,CACAD,OAAA,yCACAC,SAAA,CAAA,MAAA,QAAA,SAEA,CACAD,OAAA,yCACAC,SAAA,CAAA,MAAA,QAAA,SA8OA,CACAD,OAAA,uCACAC,SAAA,CAAA,MAAA,aAAA,QAAA,QAAA,WAyBAC,SArBA,CAgBA,kFCvSA,WACA,MAAAC,EAAAC,SAAAC,eAAA,YACAC,EAAAF,SAAAC,eAAA,UAEA,SAAAE,IACA,OAAAJ,EAAAK,aAAA,cAAA,IAGA,SAAAC,IACA,OAAAN,EAAAO,MAAA,GAKAP,EAAAQ,iBAAA,QAAAJ,GACAJ,EAAAQ,iBAAA,OAAAF,GAGAZ,OAAAe,OAAA,CACAC,WAAAV,EAEAW,cAAA,WACA,OAAAX,EAAAO,OAGAK,aAAA,SAAAC,GACA,OAAAV,EAAAW,UAAA,IAAAD,OA1BA,GCgEAnB,OAAAe,OAAAC,WAAAF,iBAAA,UA/DA,WACA,IAAAO,EAAArB,OAAAe,OAAAE,gBAAAK,cAGA,SAAAC,EAAAC,GACA,OAAAA,EAAAC,KAAAC,MAAA,GAAAD,KAAAE,SAAAH,EAAAI,SASA,GAAAP,EAAA,CAEA,IAAAQ,EAAA,GAEA7B,OAAAC,QAAAC,QAAA4B,QAAAC,IAOA,MAAAC,EAAA,CACA7B,OAAA4B,EAAA5B,OACA8B,KAAA,GAGAF,EAAA3B,SAAA0B,QAAAI,IACAb,EAAAc,SAAAD,IAEAF,EAAAC,SAIAD,EAAAC,KAAA,GACAJ,EAAAO,KAAAJ,KAKAH,EAAAD,OAAA,EACA5B,OAAAe,OAAAG,aAAAK,EAAAvB,OAAAC,QAAAI,YAEAwB,EAtCA,SAAAL,EAAAa,GACA,IAAAC,EAAAd,EAAAe,IAAAC,GAAAA,EAAAH,IACAI,EAAAhB,KAAAiB,OAAAJ,GACA,OAAAd,EAAAmB,OAAAZ,GAAAA,EAAAE,MAAAQ,GAmCAG,CAAAf,EAAA,QACAU,IAAAR,GAAAA,EAAA5B,QACAH,OAAAe,OAAAG,aAAAK,EAAAM","file":"app.min.js","sourcesContent":["'use strict';\r\n(function () {\r\n  const answersArray = [{\r\n      phrase: \"Большой зелёный барабан\",\r\n      keywords: [\"подарок\", \"загадал\", \"похож\", \"инструмент\", \"лежит\"]\r\n    },\r\n    {\r\n      phrase: \"Буль-буль-буль, Буль-буль-буль, Смолкла рыбка: Раз, два, три\",\r\n      keywords: [\"позвони\", \"счита\", \"счет\"]\r\n    },\r\n    {\r\n      phrase: \"В сказках летать возможно, да!\",\r\n      keywords: [\"цел\", \"могу\", \"летать\", \"научу\", \"получит\", \"чудо\"]\r\n    },\r\n    {\r\n      phrase: \"Во всем успешна и прилежная к наукам\",\r\n      keywords: [\"какой буду\", \"какая\", \"женщина\", \"девочка\", \"школьница\", \"жена\"]\r\n    },\r\n    {\r\n      phrase: \"Вся жизнь – один рабочий коленвал.\",\r\n      keywords: [\"бесконечно\", \"жизнь\", \"смысл\", \"долго ли еще\", \"новая\", \"работа\", \"устал\"]\r\n    },\r\n    {\r\n      phrase: \"Выход простой - вам на еБайки Ком\",\r\n      keywords: [\"выход\", \"как\", \"где\", \"найти\", \"пойти\", \"поехать\"]\r\n    },\r\n    {\r\n      phrase: \"Где ждет любовь уже на первом этаже\",\r\n      keywords: [\"где\",\t\"место\",\t\"куда\", \"любовь\"]\r\n    },\r\n    {\r\n      phrase: \"Где реки синие утонут в синеве океанов\",\r\n      keywords: [\"где\",\t\"место\",\t\"куда\"]\r\n    },\r\n    {\r\n      phrase: \"Где-то между Пить-не-надо и Морской...\",\r\n      keywords: [\"где\",\t\"место\",\t\"куда\"]\r\n    },\r\n    // {\r\n    //   phrase: \"Звонить им 112\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Искусно от укусов скройте хвост и плавники.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Как попало\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Когда познаешь все на кой\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Крепче объятия, скоро кончатся муки.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Крутнись ещё, мотор пока не стар.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Кто-то встал не с той ноги,/ Гы-гы.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Ламбады хоровод\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Лопух - в колючках, в шипах розы\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Миг погружений заветных настал.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Мышке с кошкой тесно, плата за разбой.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Мяу-Мяу-Мур Мяу-Мур\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"На вопрос любой ответ: задолбали, задолбали, задолбали\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Наша пробка хороша, начинай сначала\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Небо Блю, а травка грин\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Останется секрет секретом!\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Платите денежку баран, прибудут письма счастья вам\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"По-тру-бе, Бе-бе-бе\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Пора решительно срезать букеты\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"поэт на час\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Прогонят сон, зевоту от дремоты, Спокойные и знойные мужчины\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Сними усталость, я – готов!\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Судьбу искать на дне моря\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Точно рассосется\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Уже кипит душа, забытого в глуши, поэта\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Что скажут нам на это люди и соседи?\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Чтобы любой на свете ветер обуздать,Достаточно суть паруса в себе познать.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Шесть, семь, восемь, девять, десять, засыпаем дружно вместе\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Это настроение такое\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Я краснею, я краснею, от игривых фраз твоих\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Страстью исказило лица\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Строго. Индивидуально\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Кощеево царство в ожидании героя\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Человек имеет законное право на вольнодумство и ожидание чуда в равной мере\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"А кто ответит за базар?\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Насчитали ровно восемь\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Шесть на шесть\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Крылья, ноги, много рук\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Божественный замысел о человеке - ухаживать за садом и пасти скот\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Сложно быть богом, трудно человеком, глупо быть человеком, пытающимся занять на Земле место Бога\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"А кто руки не решится протянуть — тот протянет ноги\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"А готов ли ты стать богом или гвоздиком для подвески \",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Галактика в отдельной ячейке камеры хранения?\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Кому камень, кому крест, кому с курицей насест.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Результат человеческого труда не имеет положительного результата, когда миром правят алчные идиоты\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"В гуще листвы случайности кружений, не верю я в случайность совпадений\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"К чему накал этих египетских страстей, осенних марафонов грусти и соплей?\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Самый простой - решиться и бросить от отвращения\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Нужно лечить, а не публично выпрашивать милость на очередную затяжку\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"После восемнадцати отброшенных лет смотрю на курв спокойно\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"В любом случае дело в мерах добра и зла\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Есть в отражениях и девочки, и мальчики\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Возможно, человек и не один такой дурак\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Фанатики ненавидят тех, кто думает иначе, а власть - тех, кто думает\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"О языке и варварских обычаях говорить можно беЗконечно, но некоторые звуки вырываются инстинктивно\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Несмотря на многовековое табуирование человеческой лексики.\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"О дикарях и русских варварах\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"Языковеды скромно умалчивают о происхождении слова дикарь\",\r\n    //   keywords: []\r\n    // },\r\n    // {\r\n    //   phrase: \"И золотые рыбки ведутся клюнуть на выкрутасы обычного земляного червя.\",\r\n    //   keywords: []\r\n    // },\r\n    {\r\n      phrase: \"Доагностика кармы пиарщика похмельем\",\r\n      keywords: [\"как\", \"последстви\", \"бодун\", \"карма\", \"ожида\"]\r\n    }\r\n  ]\r\n\r\n  const fallbackPhrases = [\r\n    // \"Звоните 112\",\r\n    // \"Уже кипит душа, забытого в глуши поэта\",\r\n    // \"Останется секрет секретом!\",\r\n    // \"Что скажут нам на это люди и соседи ?\",\r\n    // // \"Платите денежку, баран, прибудут письма счастья вам!\",\r\n    // \"Наша пробка хороша, начинай сначала\",\r\n    // \"Точно рассосется\",\r\n    // \"Небо Блю, а травка грин\",\r\n    // \"На вопрос любой ответ: задолбали, задолбали, задолбали\",\r\n    // \"Я краснею, я краснею, от игривых фраз твоих\",\r\n    // \"Глазки кулачком не три.\",\r\n    // \"Вся жизнь – один рабочий коленвал.\",\r\n    // \"Крутнись ещё, мотор пока не стар.\",\r\n    // \"Выход простой - вам на еБайки Ком\",\r\n    // // \"Лопух - в колючках, в шипах розы\",\r\n    \"Чтобы любой на свете ветер обуздать, \\nДостаточно суть паруса в себе познать.\"\r\n  ]\r\n\r\n  return window.appData = {\r\n    answers: answersArray,\r\n    fallback: fallbackPhrases\r\n  };\r\n})();","'use strict';\r\n(function () {\r\n  const input = document.getElementById(\"question\")\r\n  const output = document.getElementById(\"answer\")\r\n\r\n  function clearPlaceholder() {\r\n    return input.setAttribute(\"placeholder\", \"\")\r\n  }\r\n\r\n  function setDefaultPlaceholder() {\r\n    return input.value = \"\"\r\n    // return input.setAttribute(\"placeholder\", \"\")\r\n  }\r\n\r\n  (function () {\r\n    input.addEventListener(\"focus\", clearPlaceholder)\r\n    input.addEventListener(\"blur\", setDefaultPlaceholder)\r\n  }());\r\n\r\n  return window.viewer = {\r\n    inputField: input,\r\n\r\n    getInputValue: function () {\r\n      return input.value;\r\n    },\r\n\r\n    renderResult: function (res) {\r\n      return output.innerText = `\"${res}\"`;\r\n    }\r\n  }\r\n}());","(function () {\r\n  // window.viewer.renderResult();\r\n  function userInputHandler() {\r\n    let userInput = window.viewer.getInputValue().toLowerCase();\r\n\r\n    // рандомный ответ из нескольких подходящих\r\n    function getAnswer(arr) {\r\n      return arr[Math.floor((Math.random() * 10) % arr.length)]\r\n    }\r\n\r\n    function findMaxRatedAnswers(arr, name) {\r\n      let rateArr = arr.map((it) => it[name])\r\n      let maxRate = Math.max(...rateArr)\r\n      return arr.filter((obj) => obj.rate == maxRate)\r\n    }\r\n\r\n    if (userInput) {\r\n\r\n      let pullOfAnswers = [];\r\n\r\n      window.appData.answers.forEach((obj) => {\r\n        // mock:\r\n        // {\r\n        //   phrase: \"Большой зелёный барабан\",\r\n        //   keywords: [\"подарок\", \"загадал\", \"похож\", \"инструмент\", \"лежит\"]\r\n        // }\r\n\r\n        const currentObj = {\r\n          phrase: obj.phrase,\r\n          rate: 0\r\n        }\r\n\r\n        obj.keywords.forEach((keyword) => {\r\n          if (userInput.includes(keyword)) {\r\n            // console.log(keyword)\r\n            currentObj.rate++\r\n          }\r\n        })\r\n\r\n        if (currentObj.rate > 0) {\r\n          pullOfAnswers.push(currentObj)\r\n        }\r\n      })\r\n\r\n      // pullOfAnswers пустой? - дефолтные фразы, нет? - находим с максимальным рейтингом и выбираем любой из одинаковых если не один\r\n      if (pullOfAnswers.length < 1) {\r\n        window.viewer.renderResult(getAnswer(window.appData.fallback))\r\n      } else {\r\n        pullOfAnswers = findMaxRatedAnswers(pullOfAnswers, \"rate\")\r\n          .map((obj) => obj.phrase)\r\n        window.viewer.renderResult(getAnswer(pullOfAnswers))\r\n      }\r\n\r\n      //   result = window.appData.keywordsAndPhrasesSet.find((obj) => userInput.includes(obj.keywords));\r\n\r\n      //   // проверка на вопрос\r\n      //   if (!userInput.endsWith(\"?\")) return window.viewer.renderResult(\"А это точно вопрос? Какой вопрос - такой ответ!\")\r\n\r\n      //   // вывод результата\r\n      //   return (result !== undefined) ? window.viewer.renderResult(getAnswer(result.phrases)) :\r\n      //     window.viewer.renderResult(getAnswer(window.appData.fallbackPhrasesSet))\r\n    }\r\n  }\r\n\r\n  // общий обработчик на input\r\n  window.viewer.inputField.addEventListener(\"change\", userInputHandler)\r\n\r\n}());"]}